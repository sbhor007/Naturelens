@if (userPosts.length > 0) {

<!-- PHOTO CONTAINER -->
<div
  class="md:py-8 py-6 min-h-screen scroll-smooth overflow-auto custom-scrollbar scrollbar-hide  "
>
  <!-- MASONRY GRID -->
  <div
    class="masonry columns-2 sm:columns-2 md:columns-3 lg:columns-5 gap-6 px-4"
    infiniteScroll
  >
    <!-- PHOTO CARD LOOP -->
    <div
      *ngFor="let img of userPosts"
      class="break-inside-avoid shadow-sm overflow-hidden mb-5 transition-all duration-300 cursor-pointer group rounded-2xl hover:shadow-2xl hover:-translate-y-1 hover:scale-[1.02]"
    >
      <!-- IMAGE CONTAINER -->
      <div class="overflow-hidden rounded-2xl relative ">
        <!-- IMAGE DISPLAY -->
        <img
          [src]="img.image"
          (click)="photosDetails(img)"
          [alt]="img.altText || img.title"
          class="w-full h-auto  rounded-2xl group-hover:brightness-110 transition-all duration-300"
          loading="lazy"
        />

        <!-- 3 DOTS BUTTON + MENU -->
        <div class="absolute top-3 right-3 z-30 cursor-pointer inline-block group/menu" >
          <button
            class="p-2 rounded-full bg-white/20 backdrop-blur-lg cursor-pointer text-gray-50 hover:text-white hover:bg-white/40 shadow-md ring-1 ring-white/30 transition-all duration-200"
            (click)="openMenu(img.id)"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <circle cx="5" cy="12" r="2" />
              <circle cx="12" cy="12" r="2" />
              <circle cx="19" cy="12" r="2" />
            </svg>
          </button>

          <!-- IMAGE ACTION MENU -->
          <div
            [class.block]="openMenuId === img.id"
            [class.hidden]="openMenuId !== img.id"
            class="absolute top-10 right-0 w-40 rounded-xl shadow-lg bg-white z-50 border border-gray-200 overflow-hidden "
          >
            <button
              (click)="updatePhoto(img)"
              class="flex items-center gap-2 px-3 py-2 cursor-pointer text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 w-full transition-colors"
            >
              ‚úèÔ∏è Update
            </button>
            <button
              (click)="deletePhoto(img.id)"
              class="flex items-center gap-2 px-3 py-2 cursor-pointer text-sm text-red-600 hover:bg-red-50 hover:text-red-700 w-full transition-colors"
            >
              üóëÔ∏è Delete
            </button>
          </div>
        </div>
        <!-- END 3 DOTS + MENU -->
      </div>
    </div>
    <!-- end of photo card -->
  </div>
  <!-- end of masonry grid -->
</div>
<!-- end of photo container -->

} @else {

<!-- NO DATA FOUND STATE -->
<div class="w-full px-4">
  <div
    class="flex flex-col items-center justify-center min-h-80 rounded-2xl p-8 bg-gradient-to-br from-gray-50 to-slate-100 border-2 border-dashed border-gray-200 text-center"
  >
    <img src="/assets/no-photos.svg" alt="No photos" class="w-28 mb-4 opacity-70" />
    <h2 class="text-gray-500 text-lg font-semibold">No Photos Yet</h2>
    <p class="text-gray-400 text-sm mb-4">
      Add your first photo to start building your gallery.
    </p>
    <!-- (click)="addPhoto()" -->
    <button
    [routerLink]="'/user/create-post'"
      class="px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 rounded-lg shadow cursor-pointer transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300"
    >
      Upload Photo
    </button>
  </div>
</div>

}
